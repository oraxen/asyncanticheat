# async_anticheat_api configuration

# --- Server ---
HOST=0.0.0.0
PORT=3002

# --- Auth ---
# Token required by plugins to submit packet data
INGEST_TOKEN=your_secure_ingest_token_here
# Token used for module callbacks
MODULE_CALLBACK_TOKEN=your_secure_callback_token_here
# Token required to access dashboard routes (set to a random secret in prod)
DASHBOARD_TOKEN=
# How often to health-check registered modules (seconds)
MODULE_HEALTHCHECK_INTERVAL_SECONDS=60

# --- Limits ---
# Max request body size (default: 10MB)
MAX_BODY_BYTES=10485760

# --- Database (Supabase/Postgres) ---
DATABASE_URL=postgresql://postgres:your_password@db.your_project.supabase.co:5432/postgres

# --- Object Storage (S3-compatible) ---
# Leave S3_BUCKET empty to use local filesystem storage
S3_BUCKET=
S3_REGION=us-east-1
S3_ENDPOINT=
S3_ACCESS_KEY=
S3_SECRET_KEY=

# Local storage fallback (used when S3_BUCKET is empty)
LOCAL_STORE_DIR=./data/object_store

# --- CORS ---
# Comma-separated allowed origins for cross-origin requests.
# Example: https://asyncanticheat.com,https://www.asyncanticheat.com
# If empty and CORS_PERMISSIVE_DEV is not set, uses restrictive same-origin CORS.
CORS_ALLOW_ORIGINS=
# Set to true to enable permissive CORS (dev only, DO NOT use in production!)
CORS_PERMISSIVE_DEV=false

# --- Logging ---
RUST_LOG=info,async_anticheat_api=debug
